#version 430

layout(binding = 0) uniform sampler2D pixmap_texture;
uniform vec3 factor;

smooth in vec2 uv;

void main(void)
{
  vec4 tcolor = texture2D(pixmap_texture, uv);

//  if (tcolor.a <= 0.01)
  if (tcolor.a <= 0.0)
    discard;

//  gl_FragColor = tcolor + (0.01 * factor);
  gl_FragData[0].rgb = tcolor.rgb * factor.rgb;
  gl_FragData[0].a = tcolor.a;
  gl_FragData[1].rgba = vec4(1, 0.5, 1, 1);
  //color = vec4(0.1, 0.1, 0.1, 1.0) * texture2D(pixmap_texture, uv) + (0.001 * factor) + vec4(uv.s, uv.t, 0, 1);
}
