#version 410

uniform vec3 sun_dir;
uniform vec3 color;
uniform vec3 ambient;

in vec3 normal;
in vec4 bonew;
out vec4 output;

void main(void)
{
  float d = max(0, dot(sun_dir, normal));
//  output = vec4(color * d + ambient, 1);
  output = vec4(color * d + ambient + bonew.rgb, 1);
}
